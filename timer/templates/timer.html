{% extends "base.html" %}
{% load static %}

{% block head %}
  <script>
      let duration = "{{ duration|safe }}"
  </script>
  <script src="{% static "static.js" %}"></script>
{% endblock %}

{% block content %}
  {% csrf_token %}

  <nav class="navbar navbar-light bg-light">
    <div class="container-fluid">
      <a class="navbar-brand" href="#">
        <i class="bi-alarm" style="font-size: 2rem; color: cornflowerblue;"></i>
        SandGlass timetracker [clock error: {{ delta }}s]
      </a>

      {% if user.is_authenticated %}
        <div class="navbar-form navbar-right btn-group">
          <a href="{% url 'admin:index' %}" class="btn btn-default" role="button">Admin</a>
          <button type="button" class="btn btn-info"> User '{{ user.username }}' is authenticated.</button>
          <a href="{% url 'logout' %}?next=/" class="btn btn-default" role="button">Logout</a>
        </div>

      {% else %}
        <form name='AuthenticationForm' method="post" action="{% url 'login' %}" class="d-flex" role="form">
          {% csrf_token %}
          <div class="form-group">
            <input type="text" class="form-control me-1" placeholder="Username" name="username">
          </div>

          <div class="form-group">
            <input type="password" class="form-control me-1" placeholder="Password" name="password">
          </div>

          <button type="submit" class="btn btn-outline-success">
            <i class="bi-person-bounding-box" style="font-size: 1rem; color: #479c7e;"></i> Login
          </button>
        </form>

      {% endif %}

    </div>
  </nav>

  <div class="card mt-2">
    <div class="card-body p-2" id="chrono">
      <label class="h4">00:00:00:0</label>
    </div>
  </div>

  <ul class="nav nav-tabs mt-2" id="myTab" role="tablist">
    <li class="nav-item" role="presentation">
      <button class="nav-link active" id="order-tab" data-bs-toggle="tab" data-bs-target="#order-target" type="button"
              role="tab" aria-controls="order" aria-selected="true">Заказы
      </button>
    </li>
    <li class="nav-item" role="presentation">
      <button class="nav-link" id="managers-tab" data-bs-toggle="tab" data-bs-target="#managers-target" type="button"
              role="tab" aria-controls="managers" aria-selected="false">Манагеры
      </button>
    </li>
  </ul>


  <div class="tab-content" id="myTabContent">
    <div class="tab-pane fade show active" id="order-target" role="tabpanel" aria-labelledby="order-tab">
      {% include "zakaz.tab.html" %}
    </div>
    <div class="tab-pane fade" id="managers-target" role="tabpanel" aria-labelledby="profile-tab">
      {% include "managers.tab.html" %}
    </div>
  </div>


  <div class="d-flex mt-2">
    <div class="form-check form-check-inline">
      <input class="form-check-input" type="radio" name="jobRadio" id="jobRadio1" value="Signa"
             checked>
      <label class="form-check-label" for="jobRadio1">Signa</label>
    </div>

    <div class="form-check form-check-inline">
      <input class="form-check-input" type="radio" name="jobRadio" id="jobRadio2" value="Design">
      <label class="form-check-label" for="jobRadio2">Design</label>
    </div>

    <div class="form-check form-check-inline">
      <input class="form-check-input" type="radio" name="jobRadio" id="jobRadio3" value="Package">
      <label class="form-check-label" for="jobRadio3">Package</label>
    </div>
  </div>

  <div class="mt-2">
    <button id="startButton" type="button" class="btn btn-primary mb-3">Start</button>
    <button id="stopButton" type="button" class="btn btn-danger mb-3">Stop</button>
    <button id="cancelButton" type="button" class="btn btn-outline-secondary mb-3">Cancel</button>
  </div>

{% endblock %}